(()=>{"use strict";var t={16:(t,n,e)=>{e.d(n,{A:()=>u});var r=e(354),i=e.n(r),o=e(314),a=e.n(o),s=e(790),l=a()(i());l.i(s.A),l.push([t.id,"body {\n    font-family: 'Roboto', sans-serif;\n    font-size: 24px;\n    background-color:   #1482e2;\n    color: #fff;\n    height: 100vh;\n    margin: 0;\n}\n\n\n.wrapper {\n    display: flex;\n    flex-direction: column;\n    min-height: 100vh;\n}\n\n.wrapper > main {\n    flex-grow: 1;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n}\n\n\nheader {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: 10px; \n    padding: 10px;\n}\n\n.icons {\n    width: 40px; \n    height: auto; \n}\n\n\n.game__container {\n    max-width: 1310px;\n    margin-inline: auto;\n    padding: 0;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 20px;\n}\n\n.board-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: 50px;\n    width: 100%;\n    max-width: 900px;\n}\n\n\n.player-board, \n.computer-board {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    /* box-shadow: 5px 10px 10px #000;\n    border-radius: 10px; */\n}\n\n\n\n\n\n.grid {\n    display: grid;\n    grid-template-columns: repeat(10, 40px);\n    grid-template-rows: repeat(10, 40px);\n    gap: 2px;\n    background-color: #fff;\n    padding: 5px;\n    border-radius: 5px;\n}\n\n.cell {\n    width: 40px;\n    height: 40px;\n    background-color: #fff;\n    border: 1px solid #000;\n}\n\n.cell.ship {\n    background-color: #0000ff;\n}\n\n.cell.hit {\n    background-color: #ff0000;\n}\n\n.cell.miss {\n    background-color: #e6b800;\n}\n\n\n.buttons {\n    display: flex;\n    gap: 20px;\n    margin-top: 20px;\n}\n\n\nbutton {\n    font-size: 18px;\n    padding: 10px 20px;\n    border: none;\n    border-radius: 5px;\n    cursor: pointer;\n    background-color: #ff0000;\n    color: #fff;\n    font-weight: bold;\n    transition: background-color 0.3s ease;\n}\n\n\n.button.restart:hover {\n    background-color: #e68a00;\n}\n\nbutton:hover {\n    background-color: #e6b800;\n}\n\n\n\n@media (max-width: 600px) {\n    .board-container {\n        flex-direction: column;\n        gap: 30px;\n    }\n    .grid {\n        grid-template-columns: repeat(10, 30px);\n        grid-template-rows: repeat(10, 30px);\n    }\n    .cell {\n        width: 30px;\n        height: 30px;\n    }\n    .board-container {\n        gap: 20px;\n    }\n    .buttons {\n        display: flex;\n        flex-direction: column;\n        gap: 10px;\n    }\n\n    .button {\n        font-size: 16px;\n        padding: 8px 16px;\n    }\n}\n\n\n","",{version:3,sources:["webpack://./src/css/style.css"],names:[],mappings:"AAEA;IACI,iCAAiC;IACjC,eAAe;IACf,2BAA2B;IAC3B,WAAW;IACX,aAAa;IACb,SAAS;AACb;;;AAGA;IACI,aAAa;IACb,sBAAsB;IACtB,iBAAiB;AACrB;;AAEA;IACI,YAAY;IACZ,aAAa;IACb,uBAAuB;IACvB,mBAAmB;IACnB,sBAAsB;AAC1B;;;AAGA;IACI,aAAa;IACb,uBAAuB;IACvB,mBAAmB;IACnB,SAAS;IACT,aAAa;AACjB;;AAEA;IACI,WAAW;IACX,YAAY;AAChB;;;AAGA;IACI,iBAAiB;IACjB,mBAAmB;IACnB,UAAU;IACV,aAAa;IACb,sBAAsB;IACtB,mBAAmB;IACnB,SAAS;AACb;;AAEA;IACI,aAAa;IACb,uBAAuB;IACvB,mBAAmB;IACnB,SAAS;IACT,WAAW;IACX,gBAAgB;AACpB;;;AAGA;;IAEI,aAAa;IACb,sBAAsB;IACtB,mBAAmB;IACnB;0BACsB;AAC1B;;;;;;AAMA;IACI,aAAa;IACb,uCAAuC;IACvC,oCAAoC;IACpC,QAAQ;IACR,sBAAsB;IACtB,YAAY;IACZ,kBAAkB;AACtB;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,sBAAsB;IACtB,sBAAsB;AAC1B;;AAEA;IACI,yBAAyB;AAC7B;;AAEA;IACI,yBAAyB;AAC7B;;AAEA;IACI,yBAAyB;AAC7B;;;AAGA;IACI,aAAa;IACb,SAAS;IACT,gBAAgB;AACpB;;;AAGA;IACI,eAAe;IACf,kBAAkB;IAClB,YAAY;IACZ,kBAAkB;IAClB,eAAe;IACf,yBAAyB;IACzB,WAAW;IACX,iBAAiB;IACjB,sCAAsC;AAC1C;;;AAGA;IACI,yBAAyB;AAC7B;;AAEA;IACI,yBAAyB;AAC7B;;;;AAIA;IACI;QACI,sBAAsB;QACtB,SAAS;IACb;IACA;QACI,uCAAuC;QACvC,oCAAoC;IACxC;IACA;QACI,WAAW;QACX,YAAY;IAChB;IACA;QACI,SAAS;IACb;IACA;QACI,aAAa;QACb,sBAAsB;QACtB,SAAS;IACb;;IAEA;QACI,eAAe;QACf,iBAAiB;IACrB;AACJ",sourcesContent:["@import url('./reset.css');\n\nbody {\n    font-family: 'Roboto', sans-serif;\n    font-size: 24px;\n    background-color:   #1482e2;\n    color: #fff;\n    height: 100vh;\n    margin: 0;\n}\n\n\n.wrapper {\n    display: flex;\n    flex-direction: column;\n    min-height: 100vh;\n}\n\n.wrapper > main {\n    flex-grow: 1;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n}\n\n\nheader {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: 10px; \n    padding: 10px;\n}\n\n.icons {\n    width: 40px; \n    height: auto; \n}\n\n\n.game__container {\n    max-width: 1310px;\n    margin-inline: auto;\n    padding: 0;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 20px;\n}\n\n.board-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: 50px;\n    width: 100%;\n    max-width: 900px;\n}\n\n\n.player-board, \n.computer-board {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    /* box-shadow: 5px 10px 10px #000;\n    border-radius: 10px; */\n}\n\n\n\n\n\n.grid {\n    display: grid;\n    grid-template-columns: repeat(10, 40px);\n    grid-template-rows: repeat(10, 40px);\n    gap: 2px;\n    background-color: #fff;\n    padding: 5px;\n    border-radius: 5px;\n}\n\n.cell {\n    width: 40px;\n    height: 40px;\n    background-color: #fff;\n    border: 1px solid #000;\n}\n\n.cell.ship {\n    background-color: #0000ff;\n}\n\n.cell.hit {\n    background-color: #ff0000;\n}\n\n.cell.miss {\n    background-color: #e6b800;\n}\n\n\n.buttons {\n    display: flex;\n    gap: 20px;\n    margin-top: 20px;\n}\n\n\nbutton {\n    font-size: 18px;\n    padding: 10px 20px;\n    border: none;\n    border-radius: 5px;\n    cursor: pointer;\n    background-color: #ff0000;\n    color: #fff;\n    font-weight: bold;\n    transition: background-color 0.3s ease;\n}\n\n\n.button.restart:hover {\n    background-color: #e68a00;\n}\n\nbutton:hover {\n    background-color: #e6b800;\n}\n\n\n\n@media (max-width: 600px) {\n    .board-container {\n        flex-direction: column;\n        gap: 30px;\n    }\n    .grid {\n        grid-template-columns: repeat(10, 30px);\n        grid-template-rows: repeat(10, 30px);\n    }\n    .cell {\n        width: 30px;\n        height: 30px;\n    }\n    .board-container {\n        gap: 20px;\n    }\n    .buttons {\n        display: flex;\n        flex-direction: column;\n        gap: 10px;\n    }\n\n    .button {\n        font-size: 16px;\n        padding: 8px 16px;\n    }\n}\n\n\n"],sourceRoot:""}]);const u=l},56:(t,n,e)=>{t.exports=function(t){var n=e.nc;n&&t.setAttribute("nonce",n)}},72:t=>{var n=[];function e(t){for(var e=-1,r=0;r<n.length;r++)if(n[r].identifier===t){e=r;break}return e}function r(t,r){for(var o={},a=[],s=0;s<t.length;s++){var l=t[s],u=r.base?l[0]+r.base:l[0],c=o[u]||0,p="".concat(u," ").concat(c);o[u]=c+1;var f=e(p),A={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==f)n[f].references++,n[f].updater(A);else{var d=i(A,r);r.byIndex=s,n.splice(s,0,{identifier:p,updater:d,references:1})}a.push(p)}return a}function i(t,n){var e=n.domAPI(n);return e.update(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap&&n.supports===t.supports&&n.layer===t.layer)return;e.update(t=n)}else e.remove()}}t.exports=function(t,i){var o=r(t=t||[],i=i||{});return function(t){t=t||[];for(var a=0;a<o.length;a++){var s=e(o[a]);n[s].references--}for(var l=r(t,i),u=0;u<o.length;u++){var c=e(o[u]);0===n[c].references&&(n[c].updater(),n.splice(c,1))}o=l}}},113:t=>{t.exports=function(t,n){if(n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}},314:t=>{t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e="",r=void 0!==n[5];return n[4]&&(e+="@supports (".concat(n[4],") {")),n[2]&&(e+="@media ".concat(n[2]," {")),r&&(e+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),e+=t(n),r&&(e+="}"),n[2]&&(e+="}"),n[4]&&(e+="}"),e})).join("")},n.i=function(t,e,r,i,o){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var u=0;u<t.length;u++){var c=[].concat(t[u]);r&&a[c[0]]||(void 0!==o&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),e&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=e):c[2]=e),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),n.push(c))}},n}},354:t=>{t.exports=function(t){var n=t[1],e=t[3];if(!e)return n;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(i," */");return[n].concat([o]).join("\n")}return[n].join("\n")}},540:t=>{t.exports=function(t){var n=document.createElement("style");return t.setAttributes(n,t.attributes),t.insert(n,t.options),n}},659:t=>{var n={};t.exports=function(t,e){var r=function(t){if(void 0===n[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}n[t]=e}return n[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}},790:(t,n,e)=>{e.d(n,{A:()=>s});var r=e(354),i=e.n(r),o=e(314),a=e.n(o)()(i());a.push([t.id,"*,\n*::before,\n*::after{\n    padding: 0;\n    margin: 0;\n    border: 0;\n    box-sizing: border-box;\n}\n\n*::before,\n*::after{\n    display: inline-block;\n}\n\n\nh1\n{\n    text-align: center;\n    font-size: 40px;\n    padding: 20px 0;\n}\n\nh2 {\n    text-align: center;\n    font-size: 30px;\n    margin-bottom: 10px;\n}\n\nhtml, \nbody {\n    block-size: 100%;\n}","",{version:3,sources:["webpack://./src/css/reset.css"],names:[],mappings:"AAAA;;;IAGI,UAAU;IACV,SAAS;IACT,SAAS;IACT,sBAAsB;AAC1B;;AAEA;;IAEI,qBAAqB;AACzB;;;AAGA;;IAEI,kBAAkB;IAClB,eAAe;IACf,eAAe;AACnB;;AAEA;IACI,kBAAkB;IAClB,eAAe;IACf,mBAAmB;AACvB;;AAEA;;IAEI,gBAAgB;AACpB",sourcesContent:["*,\n*::before,\n*::after{\n    padding: 0;\n    margin: 0;\n    border: 0;\n    box-sizing: border-box;\n}\n\n*::before,\n*::after{\n    display: inline-block;\n}\n\n\nh1\n{\n    text-align: center;\n    font-size: 40px;\n    padding: 20px 0;\n}\n\nh2 {\n    text-align: center;\n    font-size: 30px;\n    margin-bottom: 10px;\n}\n\nhtml, \nbody {\n    block-size: 100%;\n}"],sourceRoot:""}]);const s=a},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=t.insertStyleElement(t);return{update:function(e){!function(t,n,e){var r="";e.supports&&(r+="@supports (".concat(e.supports,") {")),e.media&&(r+="@media ".concat(e.media," {"));var i=void 0!==e.layer;i&&(r+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),r+=e.css,i&&(r+="}"),e.media&&(r+="}"),e.supports&&(r+="}");var o=e.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),n.styleTagTransform(r,t,n.options)}(n,t,e)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)}}}}},n={};function e(r){var i=n[r];if(void 0!==i)return i.exports;var o=n[r]={id:r,exports:{}};return t[r](o,o.exports,e),o.exports}e.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},e.d=(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),e.nc=void 0;var r=e(72),i=e.n(r),o=e(825),a=e.n(o),s=e(659),l=e.n(s),u=e(56),c=e.n(u),p=e(540),f=e.n(p),A=e(113),d=e.n(A),h=e(16),m={};function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function b(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(e=e.call(t)).next,0===n){if(Object(e)!==e)return;l=!1}else for(;!(l=(r=o.call(e)).done)&&(s.push(r.value),s.length!==n);l=!0);}catch(t){u=!0,i=t}finally{try{if(!l&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,n)||function(t,n){if(t){if("string"==typeof t)return v(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?v(t,n):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function g(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C(r.key),r)}}function C(t){var n=function(t){if("object"!=y(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var e=n.call(t,"string");if("object"!=y(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==y(n)?n:n+""}m.styleTagTransform=d(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=f(),i()(h.A,m),h.A&&h.A.locals&&h.A.locals;var x=function(){return t=function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.size=n,this.hits=0,this.positions=[],this.hitPositions=[]},(n=[{key:"setPosition",value:function(t,n,e){if(t<0||n<0||t>=10||n>=10||e&&n+this.size>10||!e&&t+this.size>10)throw new Error("Invalid ship placement: row=".concat(t,", col=").concat(n,", size=").concat(this.size,", horizontal=").concat(e));this.positions=[];for(var r=0;r<this.size;r++){var i=e?t:t+r,o=e?n+r:n;this.positions.push([i,o])}}},{key:"hit",value:function(t,n){return!!this.positions.some((function(e){var r=b(e,2),i=r[0],o=r[1];return i===t&&o===n}))&&!this.hitPositions.some((function(e){var r=b(e,2),i=r[0],o=r[1];return i===t&&o===n}))&&(this.hitPositions.push([t,n]),this.hits++,!0)}},{key:"isSunk",value:function(){return this.hits>=this.size}}])&&g(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function I(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function S(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w(r.key),r)}}function w(t){var n=function(t){if("object"!=B(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var e=n.call(t,"string");if("object"!=B(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==B(n)?n:n+""}var k=function(){return t=function t(n,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.gridElement=n,this.board=e},n=[{key:"createGrid",value:function(){for(var t=0;t<10;t++)for(var n=0;n<10;n++){var e=document.createElement("div");e.classList.add("cell"),e.dataset.row=t,e.dataset.col=n,this.gridElement.appendChild(e)}}},{key:"updateGrid",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.gridElement.querySelectorAll(".cell").forEach((function(e){var r,i=parseInt(e.dataset.row),o=parseInt(e.dataset.col);e.classList.remove("ship","hit","miss");var a=t.board.getCell(i,o);n&&a instanceof x&&e.classList.add("ship"),null!=a&&null!==(r=a.hitPositions)&&void 0!==r&&r.some((function(t){var n=function(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(e=e.call(t)).next,0===n){if(Object(e)!==e)return;l=!1}else for(;!(l=(r=o.call(e)).done)&&(s.push(r.value),s.length!==n);l=!0);}catch(t){u=!0,i=t}finally{try{if(!l&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,n)||function(t,n){if(t){if("string"==typeof t)return I(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?I(t,n):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),e=n[0],r=n[1];return e===i&&r===o}))?e.classList.add("hit"):"true"===e.dataset.attacked&&e.classList.add("miss")}))}},{key:"markAttack",value:function(t,n,e){var r=this.gridElement.querySelector('.cell[data-row="'.concat(t,'"][data-col="').concat(n,'"]'));r.dataset.attacked=!0,r.classList.add(e?"hit":"miss")}},{key:"clearGrid",value:function(){this.gridElement.querySelectorAll(".cell").forEach((function(t){t.classList.remove("ship","hit","miss"),delete t.dataset.attacked})),this.board&&this.board.reset()}}],n&&S(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function E(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function T(t,n,e){return(n=D(n))in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function G(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(e=e.call(t)).next,0===n){if(Object(e)!==e)return;l=!1}else for(;!(l=(r=o.call(e)).done)&&(s.push(r.value),s.length!==n);l=!0);}catch(t){u=!0,i=t}finally{try{if(!l&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,n)||P(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(t,n){if(t){if("string"==typeof t)return O(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?O(t,n):void 0}}function O(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function L(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D(r.key),r)}}function D(t){var n=function(t){if("object"!=j(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var e=n.call(t,"string");if("object"!=j(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==j(n)?n:n+""}var z=function(){return t=function t(n,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=n,this.computer=e,this.gameState="setup",this.gameActive=!1,this.currentTurn=null,this.moveHistory=[],this.scores={player:0,computer:0},this.lastComputerHit=null,this.potentialTargets=[],this.hitSequence=[],this.unhitCells=[]},n=[{key:"initialize",value:function(){this.player.setupShips(),this.computer.setupShips(),this.player.setEnemyBoard(this.computer.board),this.computer.setEnemyBoard(this.player.board),this.gameState="setup",this.moveHistory=[],this.hitSequence=[],this.unhitCells=[];for(var t=0;t<10;t++)for(var n=0;n<10;n++)this.unhitCells.push([t,n])}},{key:"startGame",value:function(){this.player.board.ships.length&&this.computer.board.ships.length||this.initialize(),this.gameState="playing",this.gameActive=!0,this.currentTurn="player"}},{key:"playerTurn",value:function(t,n){var e;if(!this.gameActive||"player"!==this.currentTurn||"playing"!==this.gameState)return null;var r=this.computer.board.getCell(t,n);if(null==r||null===(e=r.hitPositions)||void 0===e?void 0:e.some((function(e){var r=G(e,2),i=r[0],o=r[1];return i===t&&o===n})))return null;var i=(null==r?void 0:r.hit(t,n))||!1;return this.moveHistory.push({player:this.player.name,row:t,col:n,hit:i,timestamp:Date.now()}),i&&(this.scores.player+=10),this.currentTurn="computer",{row:t,col:n,hit:i}}},{key:"computerTurn",value:function(){var t,n,e,r;if(!this.gameActive||"computer"!==this.currentTurn||"playing"!==this.gameState)return null;if(this.lastComputerHit&&this.potentialTargets.length>0){var i=this.potentialTargets.shift();n=i[0],e=i[1]}else{var o=Math.floor(Math.random()*this.unhitCells.length),a=this.unhitCells.splice(o,1)[0];n=a[0],e=a[1]}var s,l=(null===(t=r=this.player.board.getCell(n,e))||void 0===t?void 0:t.hit(n,e))||!1;return l?(this.scores.computer+=10,this.lastComputerHit=[n,e],this.hitSequence.push([n,e]),this.moveHistory.push({player:this.computer.name,row:n,col:e,hit:l,timestamp:Date.now()}),null!==(s=r)&&void 0!==s&&s.isSunk()?(this.hitSequence=[],console.log("Hit sequence:",this.hitSequence),this.lastComputerHit=null,this.potentialTargets=[]):this.updatePotentialTargets(n,e)):this.potentialTargets.length||(this.lastComputerHit=null),this.currentTurn="player",{row:n,col:e,hit:l}}},{key:"updatePotentialTargets",value:function(t,n){var e=this;this.potentialTargets=[];var r=!1,i=!1,o=null,a=null;if(this.hitSequence.length>=2){if(o=this.hitSequence[this.hitSequence.length-1],a=this.hitSequence[this.hitSequence.length-2],r=o[0]===a[0],i=o[1]===a[1],r){if(n-1>=0){var s,l=this.player.board.getCell(t,n-1);(null==l||null===(s=l.hitPositions)||void 0===s?void 0:s.some((function(e){var r=G(e,2),i=r[0],o=r[1];return i===t&&o===n-1})))||this.potentialTargets.push([t,n-1])}console.log("Working?",this.potentialTargets)}if(i&&t+1<10){var u,c=this.player.board.getCell(t+1,n);(null==c||null===(u=c.hitPositions)||void 0===u?void 0:u.some((function(e){var r=G(e,2),i=r[0],o=r[1];return i===t+1&&o===n})))||this.potentialTargets.push([t+1,n])}if(r&&n+1<10){var p,f=this.player.board.getCell(t,n+1);(null==f||null===(p=f.hitPositions)||void 0===p?void 0:p.some((function(e){var r=G(e,2),i=r[0],o=r[1];return i===t&&o===n+1})))||this.potentialTargets.push([t,n+1])}if(i&&t-1>=0){var A=this.player.board.getCell(t-1,n);(null==A?void 0:A.hitPositions.some((function(e){var r=G(e,2),i=r[0],o=r[1];return i===t-1&&o===n})))||this.potentialTargets.push([t-1,n])}}else[[-1,0],[1,0],[0,-1],[0,1]].forEach((function(r){var i=G(r,2),o=i[0],a=i[1],s=t+o,l=n+a;if(s>=0&&s<10&&l>=0&&l<10){var u,c=e.player.board.getCell(s,l);(null==c||null===(u=c.hitPositions)||void 0===u?void 0:u.some((function(t){var n=G(t,2),e=n[0],r=n[1];return e===s&&r===l})))||e.potentialTargets.push([s,l])}}))}},{key:"checkWinner",value:function(){return this.computer.board.ships.every((function(t){return t.isSunk()}))?(this.scores.player+=100,this.player.name):this.player.board.ships.every((function(t){return t.isSunk()}))?(this.scores.computer+=100,this.computer.name):null}},{key:"endGame",value:function(t){this.gameActive=!1,this.currentTurn=null,this.gameState="finished",this.lastComputerHit=null,this.potentialTargets=[],alert("".concat(t," wins!\nScores:\n").concat(this.player.name,": ").concat(this.scores.player,"\n").concat(this.computer.name,": ").concat(this.scores.computer))}},{key:"restartGame",value:function(){this.gameState="setup",this.gameActive=!1,this.currentTurn=null,this.moveHistory=[],this.lastComputerHit=null,this.potentialTargets=[],this.player.board.reset(),this.computer.board.reset(),this.initialize()}},{key:"getGameState",value:function(){return this.gameState}},{key:"getScores",value:function(){return function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?E(Object(e),!0).forEach((function(n){T(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):E(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}({},this.scores)}},{key:"getMoveHistory",value:function(){return function(t){return function(t){if(Array.isArray(t))return O(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||P(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.moveHistory)}}],n&&L(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function M(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H(r.key),r)}}function H(t){var n=function(t){if("object"!=q(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var e=n.call(t,"string");if("object"!=q(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==q(n)?n:n+""}var W=function(){return t=function t(n,e,r){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.playerDisplay=n,this.computerDisplay=e,this.battleLogic=r,this.placeShipsBtn=document.querySelector("#placeShips"),this.startGameBtn=document.querySelector("#startGame"),this.restartGameBtn=document.querySelector("#restartGame"),this.setupComputerGridClicks(),this.setupRestartButton()},(n=[{key:"setupListeners",value:function(){var t=this;this.placeShipsBtn.addEventListener("click",(function(){t.battleLogic.initialize(),t.playerDisplay.updateGrid(!0),t.computerDisplay.updateGrid(!1)})),this.startGameBtn.addEventListener("click",(function(){t.battleLogic.startGame(),t.playerDisplay.updateGrid(!0),t.computerDisplay.updateGrid(!1)}))}},{key:"setupComputerGridClicks",value:function(){var t=this;this.computerDisplay.gridElement.querySelectorAll(".cell").forEach((function(n){n.addEventListener("click",(function(){if(t.battleLogic.gameActive&&"player"===t.battleLogic.currentTurn){var e=parseInt(n.dataset.row),r=parseInt(n.dataset.col),i=t.battleLogic.playerTurn(e,r);if(i){t.computerDisplay.markAttack(i.row,i.col,i.hit),t.computerDisplay.updateGrid(!1);var o=t.battleLogic.checkWinner();if(o)return setTimeout((function(){return t.battleLogic.endGame(o)}),500),void setTimeout((function(){t.playerDisplay.clearGrid(),t.computerDisplay.clearGrid(),t.battleLogic.restartGame(),t.playerDisplay.updateGrid(!0),t.computerDisplay.updateGrid(!1),t.setupComputerGridClicks()}),1e3);setTimeout((function(){var n=t.battleLogic.computerTurn();if(n){t.playerDisplay.markAttack(n.row,n.col,n.hit),t.playerDisplay.updateGrid(!0);var e=t.battleLogic.checkWinner();e&&(setTimeout((function(){return t.battleLogic.endGame(e)}),500),setTimeout((function(){t.playerDisplay.clearGrid(),t.computerDisplay.clearGrid(),t.battleLogic.restartGame(),t.playerDisplay.updateGrid(!0),t.computerDisplay.updateGrid(!1),t.setupComputerGridClicks()}),1e3))}else console.log("Computer turn failed")}),1e3)}else console.log("Player turn failed")}}))}))}},{key:"setupRestartButton",value:function(){var t=this;this.restartGameBtn||(this.restartGameBtn=document.createElement("button"),this.restartGameBtn.id="restartGame",this.restartGameBtn.textContent="Restart Game",this.restartGameBtn.className="button restart",document.querySelector(".buttons").appendChild(this.restartGameBtn)),this.restartGameBtn.addEventListener("click",(function(){t.battleLogic.restartGame(),t.playerDisplay.clearGrid(),t.computerDisplay.clearGrid(),t.playerDisplay.updateGrid(!0),t.computerDisplay.updateGrid(!1)}))}}])&&M(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function Q(t){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(t)}function U(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(e=e.call(t)).next,0===n){if(Object(e)!==e)return;l=!1}else for(;!(l=(r=o.call(e)).done)&&(s.push(r.value),s.length!==n);l=!0);}catch(t){u=!0,i=t}finally{try{if(!l&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,n)||function(t,n){if(t){if("string"==typeof t)return R(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?R(t,n):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function Y(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N(r.key),r)}}function N(t){var n=function(t){if("object"!=Q(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var e=n.call(t,"string");if("object"!=Q(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Q(n)?n:n+""}var X=function(){return t=function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[5,4,3,2,2];!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.grid=Array(10).fill().map((function(){return Array(10).fill(null)})),this.ships=[],this.shipSizes=n,this.hits=0,this.miss=0},(n=[{key:"canPlaceShip",value:function(t,n,e,r){for(var i=0;i<e;i++){var o=r?t:t+i,a=r?n+i:n;if(o>=10||a>=10)return!1;for(var s=-2;s<=2;s++)for(var l=-2;l<=2;l++){var u=o+s,c=a+l;if(u>=0&&u<10&&c>=0&&c<10&&null!==this.grid[u][c])return!1}}return!0}},{key:"placeAllShips",value:function(){var t=this;try{this.shipSizes.forEach((function(n){return t.placeShip(n)}))}catch(t){console.log("Clear board",t.message),this.reset(),this.placeAllShips()}}},{key:"placeShip",value:function(t){for(var n=this,e=new x(t),r=!1,i=0;!r&&i<100;){var o=Math.random()>.5,a=Math.floor(10*Math.random()),s=Math.floor(10*Math.random());this.canPlaceShip(a,s,t,o)&&(e.setPosition(a,s,o),e.positions.forEach((function(t){var r=U(t,2),i=r[0],o=r[1];return n.grid[i][o]=e})),this.ships.push(e),r=!0),i++}if(!r)throw new Error("Unable to place ship: not enough space")}},{key:"getCell",value:function(t,n){return this.grid[t][n]}},{key:"reset",value:function(){this.grid.forEach((function(t){return t.fill(null)})),this.ships=[],this.hits=0,this.misses=0}}])&&Y(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function Z(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$(r.key),r)}}function $(t){var n=function(t){if("object"!=_(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var e=n.call(t,"string");if("object"!=_(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==_(n)?n:n+""}var J=function(){return t=function t(n){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=n,this.isComputer=e,this.board=new X,this.enemyBoard=null},(n=[{key:"setupShips",value:function(){this.board.placeAllShips()}},{key:"setEnemyBoard",value:function(t){this.enemyBoard=t}}])&&Z(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector(".player-grid"),n=document.querySelector(".computer-grid"),e=new J("Player"),r=new J("Computer",!0),i=new k(t,e.board),o=new k(n,r.board);i.createGrid(),o.createGrid();var a=new z(e,r),s=new W(i,o,a);try{s.setupListeners()}catch(t){console.log(t)}}))})();
//# sourceMappingURL=bundle.js.map